---
import type { CollectionEntry } from 'astro:content';
import { Image } from 'astro:assets';

import dateIcon from '../assets/date.svg';

type Props = {
  post: CollectionEntry<'blog'>;
};

const { post } = Astro.props;

const formatDate = (date: Date): string => {
  return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
};
---

<article>
  <h3>
    <a href={`/blog/${post.id}`}>{post.data.title}</a>
  </h3>
  <div class="date">
    <Image src={dateIcon} alt="Date" width={16} height={16} />
    {formatDate(post.data.pubDate)}
  </div>
  {post.data.description ? <p>{post.data.description}</p> : null}
</article>

<style>
  article {
    margin-bottom: 2rem;
  }

  article h3 {
    margin-bottom: 0.5rem;
  }

  article h3 > a {
    color: var(--accent-color);
  }

  article .date {
    font-style: italic;
    font-size: 0.9rem;
  }
</style>
